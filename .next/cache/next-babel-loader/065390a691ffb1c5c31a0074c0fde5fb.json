{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction, initializeComponentRef, EventGroup } from '../../../Utilities';\nvar getClassNames = classNamesFunction();\n/**\n * {@docCategory ColorPicker}\n */\n\nvar ColorSliderBase =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(ColorSliderBase, _super);\n\n  function ColorSliderBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._root = React.createRef();\n\n    _this._onMouseDown = function (ev) {\n      _this._events.on(window, 'mousemove', _this._onMouseMove, true);\n\n      _this._events.on(window, 'mouseup', _this._onMouseUp, true);\n\n      _this._onMouseMove(ev);\n    };\n\n    _this._onMouseMove = function (ev) {\n      if (!_this._root.current) {\n        return;\n      }\n\n      var _a = _this.props,\n          onChange = _a.onChange,\n          minValue = _a.minValue,\n          maxValue = _a.maxValue;\n\n      var rectSize = _this._root.current.getBoundingClientRect();\n\n      var currentPercentage = (ev.clientX - rectSize.left) / rectSize.width;\n      var newValue = Math.min(maxValue, Math.max(minValue, currentPercentage * maxValue));\n\n      _this.setState({\n        currentValue: newValue\n      });\n\n      if (onChange) {\n        onChange(ev, newValue);\n      }\n\n      ev.preventDefault();\n      ev.stopPropagation();\n    };\n\n    _this._onMouseUp = function (ev) {\n      _this._events.off();\n    };\n\n    initializeComponentRef(_this);\n    _this._events = new EventGroup(_this);\n    var value = _this.props.value;\n    _this.state = {\n      currentValue: value\n    };\n    return _this;\n  } // tslint:disable-next-line function-name\n\n\n  ColorSliderBase.prototype.UNSAFE_componentWillReceiveProps = function (newProps) {\n    if (newProps && newProps.value) {\n      this.setState({\n        currentValue: newProps.value\n      });\n    }\n  };\n\n  ColorSliderBase.prototype.componentWillUnmount = function () {\n    this._events.dispose();\n  };\n\n  ColorSliderBase.prototype.render = function () {\n    var _a = this.props,\n        isAlpha = _a.isAlpha,\n        minValue = _a.minValue,\n        maxValue = _a.maxValue,\n        overlayStyle = _a.overlayStyle,\n        theme = _a.theme,\n        className = _a.className,\n        styles = _a.styles;\n    var currentValue = this.state.currentValue;\n    var classNames = getClassNames(styles, {\n      theme: theme,\n      className: className\n    });\n    var currentPercentage = 100 * (currentValue - minValue) / (maxValue - minValue);\n    var hueStyle = {\n      background: // tslint:disable-next-line:max-line-length\n      'linear-gradient(to left,red 0,#f09 10%,#cd00ff 20%,#3200ff 30%,#06f 40%,#00fffd 50%,#0f6 60%,#35ff00 70%,#cdff00 80%,#f90 90%,red 100%)'\n    };\n    var alphaStyle = {\n      backgroundImage: // tslint:disable-next-line:max-line-length\n      'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2N89erVfwY0ICYmxoguxjgUFKI7GsTH5m4M3w1ChQC1/Ca8i2n1WgAAAABJRU5ErkJggg==)'\n    };\n    var sliderStyle = isAlpha ? alphaStyle : hueStyle;\n    return React.createElement(\"div\", {\n      ref: this._root,\n      className: classNames.root,\n      onMouseDown: this._onMouseDown,\n      style: sliderStyle\n    }, React.createElement(\"div\", {\n      className: classNames.sliderOverlay,\n      style: overlayStyle\n    }), React.createElement(\"div\", {\n      className: classNames.sliderThumb,\n      style: {\n        left: currentPercentage + '%'\n      }\n    }));\n  };\n\n  ColorSliderBase.defaultProps = {\n    minValue: 0,\n    maxValue: 100,\n    thumbColor: 'inherit',\n    value: 0\n  };\n  return ColorSliderBase;\n}(React.Component);\n\nexport { ColorSliderBase };","map":{"version":3,"sources":["components/ColorPicker/ColorSlider/ColorSlider.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { classNamesFunction, initializeComponentRef, EventGroup } from '../../../Utilities';\nimport { IColorSliderProps, IColorSliderStyleProps, IColorSliderStyles } from './ColorSlider.types';\n\nconst getClassNames = classNamesFunction<IColorSliderStyleProps, IColorSliderStyles>();\n\nexport interface IColorSliderState {\n  currentValue?: number;\n}\n\n/**\n * {@docCategory ColorPicker}\n */\nexport class ColorSliderBase extends React.Component<IColorSliderProps, IColorSliderState> {\n  public static defaultProps = {\n    minValue: 0,\n    maxValue: 100,\n    thumbColor: 'inherit',\n    value: 0\n  };\n\n  private _events: EventGroup;\n  private _root = React.createRef<HTMLDivElement>();\n\n  constructor(props: IColorSliderProps) {\n    super(props);\n\n    initializeComponentRef(this);\n    this._events = new EventGroup(this);\n\n    const { value } = this.props;\n\n    this.state = {\n      currentValue: value\n    };\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(newProps: IColorSliderProps): void {\n    if (newProps && newProps.value) {\n      this.setState({ currentValue: newProps.value });\n    }\n  }\n\n  public componentWillUnmount() {\n    this._events.dispose();\n  }\n\n  public render(): JSX.Element {\n    const { isAlpha, minValue, maxValue, overlayStyle, theme, className, styles } = this.props;\n    const { currentValue } = this.state;\n\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className\n    });\n\n    const currentPercentage = (100 * (currentValue! - minValue!)) / (maxValue! - minValue!);\n\n    const hueStyle = {\n      background:\n        // tslint:disable-next-line:max-line-length\n        'linear-gradient(to left,red 0,#f09 10%,#cd00ff 20%,#3200ff 30%,#06f 40%,#00fffd 50%,#0f6 60%,#35ff00 70%,#cdff00 80%,#f90 90%,red 100%)'\n    };\n\n    const alphaStyle = {\n      backgroundImage:\n        // tslint:disable-next-line:max-line-length\n        'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2N89erVfwY0ICYmxoguxjgUFKI7GsTH5m4M3w1ChQC1/Ca8i2n1WgAAAABJRU5ErkJggg==)'\n    };\n\n    const sliderStyle = isAlpha ? alphaStyle : hueStyle;\n\n    return (\n      <div ref={this._root} className={classNames.root} onMouseDown={this._onMouseDown} style={sliderStyle}>\n        <div className={classNames.sliderOverlay} style={overlayStyle} />\n        <div className={classNames.sliderThumb} style={{ left: currentPercentage + '%' }} />\n      </div>\n    );\n  }\n\n  private _onMouseDown = (ev: React.MouseEvent<HTMLElement>): void => {\n    this._events.on(window, 'mousemove', this._onMouseMove, true);\n    this._events.on(window, 'mouseup', this._onMouseUp, true);\n\n    this._onMouseMove(ev);\n  };\n\n  private _onMouseMove = (ev: React.MouseEvent<HTMLElement>): void => {\n    if (!this._root.current) {\n      return;\n    }\n\n    const { onChange, minValue, maxValue } = this.props;\n    const rectSize = this._root.current.getBoundingClientRect();\n\n    const currentPercentage = (ev.clientX - rectSize.left) / rectSize.width;\n    const newValue = Math.min(maxValue!, Math.max(minValue!, currentPercentage * maxValue!));\n\n    this.setState({\n      currentValue: newValue\n    });\n\n    if (onChange) {\n      onChange(ev, newValue);\n    }\n\n    ev.preventDefault();\n    ev.stopPropagation();\n  };\n\n  private _onMouseUp = (ev: React.MouseEvent<HTMLElement>): void => {\n    this._events.off();\n  };\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}