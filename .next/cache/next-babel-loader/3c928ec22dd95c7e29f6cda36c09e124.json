{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport * as React from 'react';\nimport { getNativeProps, on, divProperties, classNamesFunction, getWindow, isDirectionalKeyCode } from '../../Utilities';\nimport { getStyles } from './Fabric.styles';\nvar getClassNames = classNamesFunction();\n\nvar FabricBase =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(FabricBase, _super);\n\n  function FabricBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._rootElement = React.createRef();\n    _this._disposables = [];\n\n    _this._onMouseDown = function (ev) {\n      _this.setState({\n        isFocusVisible: false\n      });\n    };\n\n    _this._onKeyDown = function (ev) {\n      if (isDirectionalKeyCode(ev.which)) {\n        _this.setState({\n          isFocusVisible: true\n        });\n      }\n    };\n\n    _this.state = {\n      isFocusVisible: false\n    };\n    return _this;\n  }\n\n  FabricBase.prototype.render = function () {\n    var className = this.props.className;\n    var classNames = getClassNames(getStyles, {\n      theme: this.props.theme,\n      className: className,\n      isFocusVisible: this.state.isFocusVisible\n    });\n    var divProps = getNativeProps(this.props, divProperties);\n    return React.createElement(\"div\", tslib_1.__assign({}, divProps, {\n      className: classNames.root,\n      ref: this._rootElement\n    }));\n  };\n\n  FabricBase.prototype.componentDidMount = function () {\n    var win = getWindow(this._rootElement.current);\n\n    if (win) {\n      this._disposables.push(on(win, 'mousedown', this._onMouseDown, true), on(win, 'keydown', this._onKeyDown, true));\n    }\n  };\n\n  FabricBase.prototype.componentWillUnmount = function () {\n    this._disposables.forEach(function (dispose) {\n      return dispose();\n    });\n  };\n\n  return FabricBase;\n}(React.Component);\n\nexport { FabricBase };","map":{"version":3,"sources":["components/Fabric/Fabric.base.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AACA,SAAS,cAAT,EAAyB,EAAzB,EAA6B,aAA7B,EAA4C,kBAA5C,EAAgE,SAAhE,EAA2E,oBAA3E,QAAuG,iBAAvG;AACA,SAAS,SAAT,QAA0B,iBAA1B;AAGA,IAAM,aAAa,GAAG,kBAAkB,EAAxC;;AAEA,IAAA,UAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAgC,EAAA,OAAA,CAAA,SAAA,CAAA,UAAA,EAAA,MAAA;;AAS9B,WAAA,UAAA,CAAY,KAAZ,EAA+B;AAA/B,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADd;;AAHQ,IAAA,KAAA,CAAA,YAAA,GAAe,KAAK,CAAC,SAAN,EAAf;AACA,IAAA,KAAA,CAAA,YAAA,GAA+B,EAA/B;;AAgCA,IAAA,KAAA,CAAA,YAAA,GAAe,UAAC,EAAD,EAAe;AACpC,MAAA,KAAI,CAAC,QAAL,CAAc;AAAE,QAAA,cAAc,EAAE;AAAlB,OAAd;AACD,KAFO;;AAIA,IAAA,KAAA,CAAA,UAAA,GAAa,UAAC,EAAD,EAAkB;AACrC,UAAI,oBAAoB,CAAC,EAAE,CAAC,KAAJ,CAAxB,EAAoC;AAClC,QAAA,KAAI,CAAC,QAAL,CAAc;AAAE,UAAA,cAAc,EAAE;AAAlB,SAAd;AACD;AACF,KAJO;;AAhCN,IAAA,KAAI,CAAC,KAAL,GAAa;AAAE,MAAA,cAAc,EAAE;AAAlB,KAAb;;AACD;;AAEM,EAAA,UAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AACU,QAAA,SAAA,GAAA,KAAA,KAAA,CAAA,SAAA;AAER,QAAM,UAAU,GAAG,aAAa,CAAC,SAAD,EAAY;AAC1C,MAAA,KAAK,EAAE,KAAK,KAAL,CAAW,KADwB;AAE1C,MAAA,SAAS,EAAA,SAFiC;AAG1C,MAAA,cAAc,EAAE,KAAK,KAAL,CAAW;AAHe,KAAZ,CAAhC;AAKA,QAAM,QAAQ,GAAG,cAAc,CAAuC,KAAK,KAA5C,EAAmD,aAAnD,CAA/B;AAEA,WAAO,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,OAAA,CAAA,QAAA,CAAA,EAAA,EAAS,QAAT,EAAiB;AAAE,MAAA,SAAS,EAAE,UAAU,CAAC,IAAxB;AAA8B,MAAA,GAAG,EAAE,KAAK;AAAxC,KAAjB,CAAA,CAAP;AACD,GAXM;;AAaA,EAAA,UAAA,CAAA,SAAA,CAAA,iBAAA,GAAP,YAAA;AACE,QAAM,GAAG,GAAG,SAAS,CAAC,KAAK,YAAL,CAAkB,OAAnB,CAArB;;AAEA,QAAI,GAAJ,EAAS;AACP,WAAK,YAAL,CAAkB,IAAlB,CAAuB,EAAE,CAAC,GAAD,EAAM,WAAN,EAAmB,KAAK,YAAxB,EAAsC,IAAtC,CAAzB,EAAsE,EAAE,CAAC,GAAD,EAAM,SAAN,EAAiB,KAAK,UAAtB,EAAkC,IAAlC,CAAxE;AACD;AACF,GANM;;AAQA,EAAA,UAAA,CAAA,SAAA,CAAA,oBAAA,GAAP,YAAA;AACE,SAAK,YAAL,CAAkB,OAAlB,CAA0B,UAAC,OAAD,EAAoB;AAAK,aAAA,OAAA,EAAA;AAAS,KAA5D;AACD,GAFM;;AAaT,SAAA,UAAA;AAAC,CAhDD,CAAgC,KAAK,CAAC,SAAtC,CAAA","sourcesContent":["import * as React from 'react';\nimport { getNativeProps, on, divProperties, classNamesFunction, getWindow, isDirectionalKeyCode } from '../../Utilities';\nimport { getStyles } from './Fabric.styles';\nimport { IFabricProps, IFabricStyleProps, IFabricStyles } from './Fabric.types';\n\nconst getClassNames = classNamesFunction<IFabricStyleProps, IFabricStyles>();\n\nexport class FabricBase extends React.Component<\n  IFabricProps,\n  {\n    isFocusVisible: boolean;\n  }\n> {\n  private _rootElement = React.createRef<HTMLDivElement>();\n  private _disposables: (() => void)[] = [];\n\n  constructor(props: IFabricProps) {\n    super(props);\n    this.state = { isFocusVisible: false };\n  }\n\n  public render() {\n    const { className } = this.props;\n\n    const classNames = getClassNames(getStyles, {\n      theme: this.props.theme!,\n      className,\n      isFocusVisible: this.state.isFocusVisible\n    });\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n\n    return <div {...divProps} className={classNames.root} ref={this._rootElement} />;\n  }\n\n  public componentDidMount(): void {\n    const win = getWindow(this._rootElement.current);\n\n    if (win) {\n      this._disposables.push(on(win, 'mousedown', this._onMouseDown, true), on(win, 'keydown', this._onKeyDown, true));\n    }\n  }\n\n  public componentWillUnmount(): void {\n    this._disposables.forEach((dispose: () => void) => dispose());\n  }\n\n  private _onMouseDown = (ev: MouseEvent): void => {\n    this.setState({ isFocusVisible: false });\n  };\n\n  private _onKeyDown = (ev: KeyboardEvent): void => {\n    if (isDirectionalKeyCode(ev.which)) {\n      this.setState({ isFocusVisible: true });\n    }\n  };\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}