{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n/* tslint:disable */\n\n\nvar React = require(\"react\");\n/* tslint:enable */\n\n\nvar Utilities_1 = require(\"../../../../Utilities\");\n\nvar ContextualMenu_1 = require(\"../../../../ContextualMenu\");\n\nvar SelectedItemWithContextMenu =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(SelectedItemWithContextMenu, _super);\n\n  function SelectedItemWithContextMenu(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.itemElement = React.createRef();\n\n    _this._onClick = function (ev) {\n      ev.preventDefault();\n\n      if (_this.props.beginEditing && !_this.props.item.isValid) {\n        _this.props.beginEditing(_this.props.item);\n      } else {\n        _this.setState({\n          contextualMenuVisible: true\n        });\n      }\n    };\n\n    _this._onCloseContextualMenu = function (ev) {\n      _this.setState({\n        contextualMenuVisible: false\n      });\n    };\n\n    _this.state = {\n      contextualMenuVisible: false\n    };\n    return _this;\n  }\n\n  SelectedItemWithContextMenu.prototype.render = function () {\n    return React.createElement(\"div\", {\n      ref: this.itemElement,\n      onContextMenu: this._onClick\n    }, this.props.renderedItem, this.state.contextualMenuVisible ? React.createElement(ContextualMenu_1.ContextualMenu, {\n      items: this.props.menuItems,\n      shouldFocusOnMount: true,\n      target: this.itemElement.current,\n      onDismiss: this._onCloseContextualMenu,\n      directionalHint: ContextualMenu_1.DirectionalHint.bottomLeftEdge\n    }) : null);\n  };\n\n  return SelectedItemWithContextMenu;\n}(Utilities_1.BaseComponent);\n\nexports.SelectedItemWithContextMenu = SelectedItemWithContextMenu;","map":{"version":3,"sources":["components/SelectedItemsList/SelectedPeopleList/Items/SelectedItemWithContextMenu.tsx"],"names":[],"mappings":";;;;;;;;;AAAA;;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AACA;;;AACA,IAAA,WAAA,GAAA,OAAA,CAAA,uBAAA,CAAA;;AAEA,IAAA,gBAAA,GAAA,OAAA,CAAA,4BAAA,CAAA;;AAaA,IAAA,2BAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAiD,EAAA,OAAA,CAAA,SAAA,CAAA,2BAAA,EAAA,MAAA;;AAG/C,WAAA,2BAAA,CAAY,KAAZ,EAAoD;AAApD,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADd;;AAFU,IAAA,KAAA,CAAA,WAAA,GAA+C,KAAK,CAAC,SAAN,EAA/C;;AAwBF,IAAA,KAAA,CAAA,QAAA,GAAW,UAAC,EAAD,EAAkC;AACnD,MAAA,EAAE,CAAC,cAAH;;AACA,UAAI,KAAI,CAAC,KAAL,CAAW,YAAX,IAA2B,CAAC,KAAI,CAAC,KAAL,CAAW,IAAX,CAAgB,OAAhD,EAAyD;AACvD,QAAA,KAAI,CAAC,KAAL,CAAW,YAAX,CAAwB,KAAI,CAAC,KAAL,CAAW,IAAnC;AACD,OAFD,MAEO;AACL,QAAA,KAAI,CAAC,QAAL,CAAc;AAAE,UAAA,qBAAqB,EAAE;AAAzB,SAAd;AACD;AACF,KAPO;;AASA,IAAA,KAAA,CAAA,sBAAA,GAAyB,UAAC,EAAD,EAAU;AACzC,MAAA,KAAI,CAAC,QAAL,CAAc;AAAE,QAAA,qBAAqB,EAAE;AAAzB,OAAd;AACD,KAFO;;AA7BN,IAAA,KAAI,CAAC,KAAL,GAAa;AAAE,MAAA,qBAAqB,EAAE;AAAzB,KAAb;;AACD;;AAEM,EAAA,2BAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AACE,WACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,GAAG,EAAE,KAAK,WAAf;AAA4B,MAAA,aAAa,EAAE,KAAK;AAAhD,KAAA,EACG,KAAK,KAAL,CAAW,YADd,EAEG,KAAK,KAAL,CAAW,qBAAX,GACC,KAAA,CAAA,aAAA,CAAC,gBAAA,CAAA,cAAD,EAAe;AACb,MAAA,KAAK,EAAE,KAAK,KAAL,CAAW,SADL;AAEb,MAAA,kBAAkB,EAAE,IAFP;AAGb,MAAA,MAAM,EAAE,KAAK,WAAL,CAAiB,OAHZ;AAIb,MAAA,SAAS,EAAE,KAAK,sBAJH;AAKb,MAAA,eAAe,EAAE,gBAAA,CAAA,eAAA,CAAgB;AALpB,KAAf,CADD,GAQG,IAVN,CADF;AAcD,GAfM;;AA6BT,SAAA,2BAAA;AAAC,CArCD,CAAiD,WAAA,CAAA,aAAjD,CAAA;;AAAa,OAAA,CAAA,2BAAA,GAAA,2BAAA","sourcesContent":["/* tslint:disable */\nimport * as React from 'react';\n/* tslint:enable */\nimport { BaseComponent, IBaseProps } from '../../../../Utilities';\nimport { IExtendedPersonaProps } from '../SelectedPeopleList';\nimport { ContextualMenu, DirectionalHint, IContextualMenuItem } from '../../../../ContextualMenu';\n\nexport interface IPeoplePickerItemState {\n  contextualMenuVisible: boolean;\n}\n\nexport interface ISelectedItemWithContextMenuProps extends IBaseProps {\n  renderedItem: JSX.Element;\n  beginEditing?: (item: IExtendedPersonaProps) => void;\n  menuItems: IContextualMenuItem[];\n  item: IExtendedPersonaProps;\n}\n\nexport class SelectedItemWithContextMenu extends BaseComponent<ISelectedItemWithContextMenuProps, IPeoplePickerItemState> {\n  protected itemElement: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\n\n  constructor(props: ISelectedItemWithContextMenuProps) {\n    super(props);\n    this.state = { contextualMenuVisible: false };\n  }\n\n  public render(): JSX.Element {\n    return (\n      <div ref={this.itemElement} onContextMenu={this._onClick}>\n        {this.props.renderedItem}\n        {this.state.contextualMenuVisible ? (\n          <ContextualMenu\n            items={this.props.menuItems}\n            shouldFocusOnMount={true}\n            target={this.itemElement.current}\n            onDismiss={this._onCloseContextualMenu}\n            directionalHint={DirectionalHint.bottomLeftEdge}\n          />\n        ) : null}\n      </div>\n    );\n  }\n\n  private _onClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    ev.preventDefault();\n    if (this.props.beginEditing && !this.props.item.isValid) {\n      this.props.beginEditing(this.props.item);\n    } else {\n      this.setState({ contextualMenuVisible: true });\n    }\n  };\n\n  private _onCloseContextualMenu = (ev: Event): void => {\n    this.setState({ contextualMenuVisible: false });\n  };\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"script"}