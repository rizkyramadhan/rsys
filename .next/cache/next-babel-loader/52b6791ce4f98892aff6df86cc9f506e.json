{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar React = require(\"react\");\n\nvar Button_1 = require(\"../../Button\");\n\nvar Layer_1 = require(\"../../Layer\");\n\nvar Overlay_1 = require(\"../../Overlay\");\n\nvar Popup_1 = require(\"../../Popup\");\n\nvar Styling_1 = require(\"../../Styling\");\n\nvar Utilities_1 = require(\"../../Utilities\");\n\nvar index_1 = require(\"../FocusTrapZone/index\");\n\nvar Panel_types_1 = require(\"./Panel.types\");\n\nvar getClassNames = Utilities_1.classNamesFunction();\nvar PanelVisibilityState;\n\n(function (PanelVisibilityState) {\n  PanelVisibilityState[PanelVisibilityState[\"closed\"] = 0] = \"closed\";\n  PanelVisibilityState[PanelVisibilityState[\"animatingOpen\"] = 1] = \"animatingOpen\";\n  PanelVisibilityState[PanelVisibilityState[\"open\"] = 2] = \"open\";\n  PanelVisibilityState[PanelVisibilityState[\"animatingClosed\"] = 3] = \"animatingClosed\";\n})(PanelVisibilityState || (PanelVisibilityState = {}));\n\nvar PanelBase =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(PanelBase, _super);\n\n  function PanelBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._panel = React.createRef();\n    _this._animationCallback = null;\n\n    _this.dismiss = function (ev) {\n      if (_this.props.onDismiss) {\n        _this.props.onDismiss(ev);\n      }\n\n      if (!ev || ev && !ev.defaultPrevented) {\n        _this.close();\n      }\n    }; // Allow the user to scroll within the panel but not on the body\n\n\n    _this._allowScrollOnPanel = function (elt) {\n      if (elt) {\n        Utilities_1.allowScrollOnElement(elt, _this._events);\n      } else {\n        _this._events.off(_this._scrollableContent);\n      }\n\n      _this._scrollableContent = elt;\n    };\n\n    _this._onRenderNavigation = function (props) {\n      if (!_this.props.onRenderNavigationContent && !_this.props.onRenderNavigation && !_this.props.hasCloseButton) {\n        return null;\n      }\n\n      var _a = _this.props.onRenderNavigationContent,\n          onRenderNavigationContent = _a === void 0 ? _this._onRenderNavigationContent : _a;\n      return React.createElement(\"div\", {\n        className: _this._classNames.navigation\n      }, onRenderNavigationContent(props, _this._onRenderNavigationContent));\n    };\n\n    _this._onRenderNavigationContent = function (props) {\n      var closeButtonAriaLabel = props.closeButtonAriaLabel,\n          hasCloseButton = props.hasCloseButton;\n      var theme = Styling_1.getTheme();\n\n      if (hasCloseButton) {\n        // TODO -Issue #5689: Comment in once Button is converted to mergeStyles\n        // const iconButtonStyles = this._classNames.subComponentStyles\n        // ? (this._classNames.subComponentStyles.iconButton as IStyleFunctionOrObject<IButtonStyleProps, IButtonStyles>)\n        // : undefined;\n        return React.createElement(Button_1.IconButton // TODO -Issue #5689: Comment in once Button is converted to mergeStyles\n        // className={iconButtonStyles}\n        , {\n          // TODO -Issue #5689: Comment in once Button is converted to mergeStyles\n          // className={iconButtonStyles}\n          styles: {\n            root: {\n              height: 'auto',\n              width: '44px',\n              color: theme.palette.neutralSecondary,\n              fontSize: Styling_1.IconFontSizes.large\n            },\n            rootHovered: {\n              color: theme.palette.neutralPrimary\n            }\n          },\n          className: _this._classNames.closeButton,\n          onClick: _this._onPanelClick,\n          ariaLabel: closeButtonAriaLabel,\n          title: closeButtonAriaLabel,\n          \"data-is-visible\": true,\n          iconProps: {\n            iconName: 'Cancel'\n          }\n        });\n      }\n\n      return null;\n    };\n\n    _this._onRenderHeader = function (props, defaultRender, headerTextId) {\n      var headerText = props.headerText;\n\n      if (headerText) {\n        return React.createElement(\"div\", {\n          className: _this._classNames.header\n        }, React.createElement(\"p\", {\n          className: _this._classNames.headerText,\n          id: headerTextId,\n          role: \"heading\",\n          \"aria-level\": 2\n        }, headerText));\n      }\n\n      return null;\n    };\n\n    _this._onRenderBody = function (props) {\n      return React.createElement(\"div\", {\n        className: _this._classNames.content\n      }, props.children);\n    };\n\n    _this._onRenderFooter = function (props) {\n      var _a = _this.props.onRenderFooterContent,\n          onRenderFooterContent = _a === void 0 ? null : _a;\n\n      if (onRenderFooterContent) {\n        return React.createElement(\"div\", {\n          className: _this._classNames.footer\n        }, React.createElement(\"div\", {\n          className: _this._classNames.footerInner\n        }, onRenderFooterContent()));\n      }\n\n      return null;\n    };\n\n    _this._animateTo = function (newVisibilityState) {\n      _this._animationCallback = _this._async.setTimeout(function () {\n        _this.setState({\n          visibility: newVisibilityState\n        });\n\n        _this._onTransitionComplete();\n      }, 200);\n    };\n\n    _this._clearExistingAnimationTimer = function () {\n      if (_this._animationCallback !== null) {\n        _this._async.clearTimeout(_this._animationCallback);\n      }\n    };\n\n    _this._onPanelClick = function (ev) {\n      _this.dismiss(ev);\n    };\n\n    _this._onTransitionComplete = function () {\n      _this._updateFooterPosition();\n\n      if (_this.state.visibility === PanelVisibilityState.open && _this.props.onOpened) {\n        _this.props.onOpened();\n      }\n\n      if (_this.state.visibility === PanelVisibilityState.closed && _this.props.onDismissed) {\n        _this.props.onDismissed();\n      }\n    };\n\n    _this._warnDeprecations({\n      ignoreExternalFocusing: 'focusTrapZoneProps',\n      forceFocusInsideTrap: 'focusTrapZoneProps',\n      firstFocusableSelector: 'focusTrapZoneProps'\n    });\n\n    _this.state = {\n      isFooterSticky: false,\n      visibility: PanelVisibilityState.closed,\n      id: Utilities_1.getId('Panel')\n    };\n    return _this;\n  }\n\n  PanelBase.getDerivedStateFromProps = function (props, state) {\n    if (props.isOpen === undefined) {\n      return state;\n    }\n\n    if (props.isOpen && (state.visibility === PanelVisibilityState.closed || state.visibility === PanelVisibilityState.animatingClosed)) {\n      return tslib_1.__assign({}, state, {\n        visibility: PanelVisibilityState.animatingOpen\n      });\n    }\n\n    if (!props.isOpen && (state.visibility === PanelVisibilityState.open || state.visibility === PanelVisibilityState.animatingOpen)) {\n      return tslib_1.__assign({}, state, {\n        visibility: PanelVisibilityState.animatingClosed\n      });\n    }\n\n    return state;\n  };\n\n  PanelBase.prototype.componentDidMount = function () {\n    this._events.on(window, 'resize', this._updateFooterPosition);\n\n    if (this._shouldListenForOuterClick(this.props)) {\n      this._events.on(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n\n    if (this.props.isOpen) {\n      this.setState({\n        visibility: PanelVisibilityState.animatingOpen\n      });\n    }\n  };\n\n  PanelBase.prototype.componentDidUpdate = function (previousProps, previousState) {\n    var shouldListenOnOuterClick = this._shouldListenForOuterClick(this.props);\n\n    var previousShouldListenOnOuterClick = this._shouldListenForOuterClick(previousProps);\n\n    if (this.state.visibility !== previousState.visibility) {\n      this._clearExistingAnimationTimer();\n\n      if (this.state.visibility === PanelVisibilityState.animatingOpen) {\n        this._animateTo(PanelVisibilityState.open);\n      } else if (this.state.visibility === PanelVisibilityState.animatingClosed) {\n        this._animateTo(PanelVisibilityState.closed);\n      }\n    }\n\n    if (shouldListenOnOuterClick && !previousShouldListenOnOuterClick) {\n      this._events.on(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    } else if (!shouldListenOnOuterClick && previousShouldListenOnOuterClick) {\n      this._events.off(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n  };\n\n  PanelBase.prototype.render = function () {\n    var _a = this.props,\n        _b = _a.className,\n        className = _b === void 0 ? '' : _b,\n        elementToFocusOnDismiss = _a.elementToFocusOnDismiss,\n        firstFocusableSelector = _a.firstFocusableSelector,\n        focusTrapZoneProps = _a.focusTrapZoneProps,\n        forceFocusInsideTrap = _a.forceFocusInsideTrap,\n        hasCloseButton = _a.hasCloseButton,\n        headerText = _a.headerText,\n        _c = _a.headerClassName,\n        headerClassName = _c === void 0 ? '' : _c,\n        ignoreExternalFocusing = _a.ignoreExternalFocusing,\n        isBlocking = _a.isBlocking,\n        isFooterAtBottom = _a.isFooterAtBottom,\n        isLightDismiss = _a.isLightDismiss,\n        isHiddenOnDismiss = _a.isHiddenOnDismiss,\n        layerProps = _a.layerProps,\n        overlayProps = _a.overlayProps,\n        type = _a.type,\n        styles = _a.styles,\n        theme = _a.theme,\n        customWidth = _a.customWidth,\n        _d = _a.onLightDismissClick,\n        onLightDismissClick = _d === void 0 ? this._onPanelClick : _d,\n        _e = _a.onRenderNavigation,\n        onRenderNavigation = _e === void 0 ? this._onRenderNavigation : _e,\n        _f = _a.onRenderHeader,\n        onRenderHeader = _f === void 0 ? this._onRenderHeader : _f,\n        _g = _a.onRenderBody,\n        onRenderBody = _g === void 0 ? this._onRenderBody : _g,\n        _h = _a.onRenderFooter,\n        onRenderFooter = _h === void 0 ? this._onRenderFooter : _h;\n    var _j = this.state,\n        isFooterSticky = _j.isFooterSticky,\n        visibility = _j.visibility,\n        id = _j.id;\n    var isLeft = type === Panel_types_1.PanelType.smallFixedNear || type === Panel_types_1.PanelType.customNear ? true : false;\n    var isRTL = Utilities_1.getRTL();\n    var isOnRightSide = isRTL ? isLeft : !isLeft;\n    var headerTextId = headerText && id + '-headerText';\n    var customWidthStyles = type === Panel_types_1.PanelType.custom || type === Panel_types_1.PanelType.customNear ? {\n      width: customWidth\n    } : {};\n    var nativeProps = Utilities_1.getNativeProps(this.props, Utilities_1.divProperties);\n    var isOpen = this.isActive;\n    var isAnimating = visibility === PanelVisibilityState.animatingClosed || visibility === PanelVisibilityState.animatingOpen;\n\n    if (!isOpen && !isAnimating && !isHiddenOnDismiss) {\n      return null;\n    }\n\n    this._classNames = getClassNames(styles, {\n      theme: theme,\n      className: className,\n      focusTrapZoneClassName: focusTrapZoneProps ? focusTrapZoneProps.className : undefined,\n      hasCloseButton: hasCloseButton,\n      headerClassName: headerClassName,\n      isAnimating: isAnimating,\n      isFooterSticky: isFooterSticky,\n      isFooterAtBottom: isFooterAtBottom,\n      isOnRightSide: isOnRightSide,\n      isOpen: isOpen,\n      isHiddenOnDismiss: isHiddenOnDismiss,\n      type: type\n    });\n    var _classNames = this._classNames;\n    var overlay;\n\n    if (isBlocking && isOpen) {\n      overlay = React.createElement(Overlay_1.Overlay, tslib_1.__assign({\n        className: _classNames.overlay,\n        isDarkThemed: false,\n        onClick: isLightDismiss ? onLightDismissClick : undefined\n      }, overlayProps));\n    }\n\n    var header = onRenderHeader(this.props, this._onRenderHeader, headerTextId);\n    return React.createElement(Layer_1.Layer, tslib_1.__assign({}, layerProps), React.createElement(Popup_1.Popup, {\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      ariaLabelledBy: header ? headerTextId : undefined,\n      onDismiss: this.dismiss,\n      className: _classNames.hiddenPanel\n    }, React.createElement(\"div\", tslib_1.__assign({\n      \"aria-hidden\": !isOpen && isAnimating\n    }, nativeProps, {\n      ref: this._panel,\n      className: _classNames.root\n    }), overlay, React.createElement(index_1.FocusTrapZone, tslib_1.__assign({\n      ignoreExternalFocusing: ignoreExternalFocusing,\n      forceFocusInsideTrap: !isBlocking || isHiddenOnDismiss && !isOpen ? false : forceFocusInsideTrap,\n      firstFocusableSelector: firstFocusableSelector,\n      isClickableOutsideFocusTrap: true\n    }, focusTrapZoneProps, {\n      className: _classNames.main,\n      style: customWidthStyles,\n      elementToFocusOnDismiss: elementToFocusOnDismiss\n    }), React.createElement(\"div\", {\n      className: _classNames.commands,\n      \"data-is-visible\": true\n    }, onRenderNavigation(this.props, this._onRenderNavigation)), React.createElement(\"div\", {\n      className: _classNames.contentInner\n    }, header, React.createElement(\"div\", {\n      ref: this._allowScrollOnPanel,\n      className: _classNames.scrollableContent,\n      \"data-is-scrollable\": true\n    }, onRenderBody(this.props, this._onRenderBody)), onRenderFooter(this.props, this._onRenderFooter))))));\n  };\n\n  PanelBase.prototype.open = function () {\n    if (this.props.isOpen !== undefined) {\n      return;\n    }\n\n    if (this.isActive) {\n      return;\n    }\n\n    if (this.props.onOpen) {\n      this.props.onOpen();\n    }\n\n    this.setState({\n      visibility: PanelVisibilityState.animatingOpen\n    });\n  };\n\n  PanelBase.prototype.close = function () {\n    if (this.props.isOpen !== undefined) {\n      return;\n    }\n\n    if (!this.isActive) {\n      return;\n    }\n\n    this.setState({\n      visibility: PanelVisibilityState.animatingClosed\n    });\n  };\n\n  _Object$defineProperty(PanelBase.prototype, \"isActive\", {\n    /** isActive is true when panel is open or opening. */\n    get: function () {\n      return this.state.visibility === PanelVisibilityState.open || this.state.visibility === PanelVisibilityState.animatingOpen;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  PanelBase.prototype._shouldListenForOuterClick = function (props) {\n    return !!props.isBlocking && !!props.isOpen;\n  };\n\n  PanelBase.prototype._updateFooterPosition = function () {\n    var scrollableContent = this._scrollableContent;\n\n    if (scrollableContent) {\n      var height = scrollableContent.clientHeight;\n      var innerHeight_1 = scrollableContent.scrollHeight;\n      this.setState({\n        isFooterSticky: height < innerHeight_1 ? true : false\n      });\n    }\n  };\n\n  PanelBase.prototype._dismissOnOuterClick = function (ev) {\n    var panel = this._panel.current;\n\n    if (this.isActive && panel) {\n      if (!Utilities_1.elementContains(panel, ev.target)) {\n        if (this.props.onOuterClick) {\n          this.props.onOuterClick();\n          ev.preventDefault();\n        } else {\n          this.dismiss();\n        }\n      }\n    }\n  };\n\n  PanelBase.defaultProps = {\n    isHiddenOnDismiss: false,\n    isOpen: undefined,\n    isBlocking: true,\n    hasCloseButton: true,\n    type: Panel_types_1.PanelType.smallFixedFar\n  };\n  return PanelBase;\n}(Utilities_1.BaseComponent);\n\nexports.PanelBase = PanelBase;","map":{"version":3,"sources":["components/Panel/Panel.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { IconButton } from '../../Button';\nimport { Layer } from '../../Layer';\nimport { Overlay } from '../../Overlay';\nimport { Popup } from '../../Popup';\nimport { getTheme, IconFontSizes, IProcessedStyleSet } from '../../Styling';\nimport {\n  allowScrollOnElement,\n  BaseComponent,\n  classNamesFunction,\n  divProperties,\n  elementContains,\n  getId,\n  getNativeProps,\n  getRTL\n} from '../../Utilities';\nimport { FocusTrapZone } from '../FocusTrapZone/index';\nimport { IPanel, IPanelProps, IPanelStyleProps, IPanelStyles, PanelType } from './Panel.types';\n\nconst getClassNames = classNamesFunction<IPanelStyleProps, IPanelStyles>();\n\nenum PanelVisibilityState {\n  closed,\n  animatingOpen,\n  open,\n  animatingClosed\n}\n\ninterface IPanelState {\n  isFooterSticky?: boolean;\n  id?: string;\n  visibility: PanelVisibilityState;\n}\n\nexport class PanelBase extends BaseComponent<IPanelProps, IPanelState> implements IPanel {\n  public static defaultProps: IPanelProps = {\n    isHiddenOnDismiss: false,\n    isOpen: undefined,\n    isBlocking: true,\n    hasCloseButton: true,\n    type: PanelType.smallFixedFar\n  };\n\n  private _panel = React.createRef<HTMLDivElement>();\n  private _classNames: IProcessedStyleSet<IPanelStyles>;\n  private _scrollableContent: HTMLDivElement | null;\n  private _animationCallback: number | null = null;\n\n  public static getDerivedStateFromProps(props: IPanelProps, state: IPanelState): IPanelState {\n    if (props.isOpen === undefined) {\n      return state;\n    }\n    if (props.isOpen && (state.visibility === PanelVisibilityState.closed || state.visibility === PanelVisibilityState.animatingClosed)) {\n      return { ...state, visibility: PanelVisibilityState.animatingOpen };\n    }\n    if (!props.isOpen && (state.visibility === PanelVisibilityState.open || state.visibility === PanelVisibilityState.animatingOpen)) {\n      return { ...state, visibility: PanelVisibilityState.animatingClosed };\n    }\n    return state;\n  }\n\n  constructor(props: IPanelProps) {\n    super(props);\n\n    this._warnDeprecations({\n      ignoreExternalFocusing: 'focusTrapZoneProps',\n      forceFocusInsideTrap: 'focusTrapZoneProps',\n      firstFocusableSelector: 'focusTrapZoneProps'\n    });\n\n    this.state = {\n      isFooterSticky: false,\n      visibility: PanelVisibilityState.closed, // intentionally ignore props so animation takes place during componentDidMount\n      id: getId('Panel')\n    };\n  }\n\n  public componentDidMount(): void {\n    this._events.on(window, 'resize', this._updateFooterPosition);\n\n    if (this._shouldListenForOuterClick(this.props)) {\n      this._events.on(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n\n    if (this.props.isOpen) {\n      this.setState({ visibility: PanelVisibilityState.animatingOpen });\n    }\n  }\n\n  public componentDidUpdate(previousProps: IPanelProps, previousState: IPanelState): void {\n    const shouldListenOnOuterClick = this._shouldListenForOuterClick(this.props);\n    const previousShouldListenOnOuterClick = this._shouldListenForOuterClick(previousProps);\n\n    if (this.state.visibility !== previousState.visibility) {\n      this._clearExistingAnimationTimer();\n      if (this.state.visibility === PanelVisibilityState.animatingOpen) {\n        this._animateTo(PanelVisibilityState.open);\n      } else if (this.state.visibility === PanelVisibilityState.animatingClosed) {\n        this._animateTo(PanelVisibilityState.closed);\n      }\n    }\n\n    if (shouldListenOnOuterClick && !previousShouldListenOnOuterClick) {\n      this._events.on(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    } else if (!shouldListenOnOuterClick && previousShouldListenOnOuterClick) {\n      this._events.off(document.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n  }\n\n  public render(): JSX.Element | null {\n    const {\n      className = '',\n      elementToFocusOnDismiss,\n      firstFocusableSelector,\n      focusTrapZoneProps,\n      forceFocusInsideTrap,\n      hasCloseButton,\n      headerText,\n      headerClassName = '',\n      ignoreExternalFocusing,\n      isBlocking,\n      isFooterAtBottom,\n      isLightDismiss,\n      isHiddenOnDismiss,\n      layerProps,\n      overlayProps,\n      type,\n      styles,\n      theme,\n      customWidth,\n      onLightDismissClick = this._onPanelClick,\n      onRenderNavigation = this._onRenderNavigation,\n      onRenderHeader = this._onRenderHeader,\n      onRenderBody = this._onRenderBody,\n      onRenderFooter = this._onRenderFooter\n    } = this.props;\n    const { isFooterSticky, visibility, id } = this.state;\n    const isLeft = type === PanelType.smallFixedNear || type === PanelType.customNear ? true : false;\n    const isRTL = getRTL();\n    const isOnRightSide = isRTL ? isLeft : !isLeft;\n    const headerTextId = headerText && id + '-headerText';\n    const customWidthStyles = type === PanelType.custom || type === PanelType.customNear ? { width: customWidth } : {};\n    const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n    const isOpen = this.isActive;\n    const isAnimating = visibility === PanelVisibilityState.animatingClosed || visibility === PanelVisibilityState.animatingOpen;\n\n    if (!isOpen && !isAnimating && !isHiddenOnDismiss) {\n      return null;\n    }\n\n    this._classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      focusTrapZoneClassName: focusTrapZoneProps ? focusTrapZoneProps.className : undefined,\n      hasCloseButton,\n      headerClassName,\n      isAnimating,\n      isFooterSticky,\n      isFooterAtBottom,\n      isOnRightSide,\n      isOpen,\n      isHiddenOnDismiss,\n      type\n    });\n\n    const { _classNames } = this;\n\n    let overlay;\n    if (isBlocking && isOpen) {\n      overlay = (\n        <Overlay\n          className={_classNames.overlay}\n          isDarkThemed={false}\n          onClick={isLightDismiss ? onLightDismissClick : undefined}\n          {...overlayProps}\n        />\n      );\n    }\n\n    const header = onRenderHeader(this.props, this._onRenderHeader, headerTextId);\n\n    return (\n      <Layer {...layerProps}>\n        <Popup\n          role=\"dialog\"\n          aria-modal=\"true\"\n          ariaLabelledBy={header ? headerTextId : undefined}\n          onDismiss={this.dismiss}\n          className={_classNames.hiddenPanel}\n        >\n          <div aria-hidden={!isOpen && isAnimating} {...nativeProps} ref={this._panel} className={_classNames.root}>\n            {overlay}\n            <FocusTrapZone\n              ignoreExternalFocusing={ignoreExternalFocusing}\n              forceFocusInsideTrap={!isBlocking || (isHiddenOnDismiss && !isOpen) ? false : forceFocusInsideTrap}\n              firstFocusableSelector={firstFocusableSelector}\n              isClickableOutsideFocusTrap={true}\n              {...focusTrapZoneProps}\n              className={_classNames.main}\n              style={customWidthStyles}\n              elementToFocusOnDismiss={elementToFocusOnDismiss}\n            >\n              <div className={_classNames.commands} data-is-visible={true}>\n                {onRenderNavigation(this.props, this._onRenderNavigation)}\n              </div>\n              <div className={_classNames.contentInner}>\n                {header}\n                <div ref={this._allowScrollOnPanel} className={_classNames.scrollableContent} data-is-scrollable={true}>\n                  {onRenderBody(this.props, this._onRenderBody)}\n                </div>\n                {onRenderFooter(this.props, this._onRenderFooter)}\n              </div>\n            </FocusTrapZone>\n          </div>\n        </Popup>\n      </Layer>\n    );\n  }\n\n  public open() {\n    if (this.props.isOpen !== undefined) {\n      return;\n    }\n\n    if (this.isActive) {\n      return;\n    }\n\n    if (this.props.onOpen) {\n      this.props.onOpen();\n    }\n    this.setState({ visibility: PanelVisibilityState.animatingOpen });\n  }\n\n  public close() {\n    if (this.props.isOpen !== undefined) {\n      return;\n    }\n\n    if (!this.isActive) {\n      return;\n    }\n\n    this.setState({ visibility: PanelVisibilityState.animatingClosed });\n  }\n\n  public dismiss = (ev?: React.SyntheticEvent<HTMLElement>): void => {\n    if (this.props.onDismiss) {\n      this.props.onDismiss(ev);\n    }\n\n    if (!ev || (ev && !ev.defaultPrevented)) {\n      this.close();\n    }\n  };\n\n  /** isActive is true when panel is open or opening. */\n  get isActive(): boolean {\n    return this.state.visibility === PanelVisibilityState.open || this.state.visibility === PanelVisibilityState.animatingOpen;\n  }\n\n  // Allow the user to scroll within the panel but not on the body\n  private _allowScrollOnPanel = (elt: HTMLDivElement | null): void => {\n    if (elt) {\n      allowScrollOnElement(elt, this._events);\n    } else {\n      this._events.off(this._scrollableContent);\n    }\n    this._scrollableContent = elt;\n  };\n\n  private _shouldListenForOuterClick(props: IPanelProps): boolean {\n    return !!props.isBlocking && !!props.isOpen;\n  }\n\n  private _onRenderNavigation = (props: IPanelProps): JSX.Element | null => {\n    if (!this.props.onRenderNavigationContent && !this.props.onRenderNavigation && !this.props.hasCloseButton) {\n      return null;\n    }\n    const { onRenderNavigationContent = this._onRenderNavigationContent } = this.props;\n    return <div className={this._classNames.navigation}>{onRenderNavigationContent(props, this._onRenderNavigationContent)}</div>;\n  };\n\n  private _onRenderNavigationContent = (props: IPanelProps): JSX.Element | null => {\n    const { closeButtonAriaLabel, hasCloseButton } = props;\n    const theme = getTheme();\n    if (hasCloseButton) {\n      // TODO -Issue #5689: Comment in once Button is converted to mergeStyles\n      // const iconButtonStyles = this._classNames.subComponentStyles\n      // ? (this._classNames.subComponentStyles.iconButton as IStyleFunctionOrObject<IButtonStyleProps, IButtonStyles>)\n      // : undefined;\n      return (\n        <IconButton\n          // TODO -Issue #5689: Comment in once Button is converted to mergeStyles\n          // className={iconButtonStyles}\n          styles={{\n            root: {\n              height: 'auto',\n              width: '44px',\n              color: theme.palette.neutralSecondary,\n              fontSize: IconFontSizes.large\n            },\n            rootHovered: {\n              color: theme.palette.neutralPrimary\n            }\n          }}\n          className={this._classNames.closeButton}\n          onClick={this._onPanelClick}\n          ariaLabel={closeButtonAriaLabel}\n          title={closeButtonAriaLabel}\n          data-is-visible={true}\n          iconProps={{ iconName: 'Cancel' }}\n        />\n      );\n    }\n    return null;\n  };\n\n  private _onRenderHeader = (\n    props: IPanelProps,\n    defaultRender?: (props?: IPanelProps) => JSX.Element | null,\n    headerTextId?: string | undefined\n  ): JSX.Element | null => {\n    const { headerText } = props;\n\n    if (headerText) {\n      return (\n        <div className={this._classNames.header}>\n          <p className={this._classNames.headerText} id={headerTextId} role=\"heading\" aria-level={2}>\n            {headerText}\n          </p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  private _onRenderBody = (props: IPanelProps): JSX.Element => {\n    return <div className={this._classNames.content}>{props.children}</div>;\n  };\n\n  private _onRenderFooter = (props: IPanelProps): JSX.Element | null => {\n    const { onRenderFooterContent = null } = this.props;\n    if (onRenderFooterContent) {\n      return (\n        <div className={this._classNames.footer}>\n          <div className={this._classNames.footerInner}>{onRenderFooterContent()}</div>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  private _updateFooterPosition(): void {\n    const scrollableContent = this._scrollableContent;\n    if (scrollableContent) {\n      const height = scrollableContent.clientHeight;\n      const innerHeight = scrollableContent.scrollHeight;\n\n      this.setState({\n        isFooterSticky: height < innerHeight ? true : false\n      });\n    }\n  }\n\n  private _dismissOnOuterClick(ev: any): void {\n    const panel = this._panel.current;\n    if (this.isActive && panel) {\n      if (!elementContains(panel, ev.target)) {\n        if (this.props.onOuterClick) {\n          this.props.onOuterClick();\n          ev.preventDefault();\n        } else {\n          this.dismiss();\n        }\n      }\n    }\n  }\n\n  private _animateTo = (newVisibilityState: PanelVisibilityState): void => {\n    this._animationCallback = this._async.setTimeout(() => {\n      this.setState({ visibility: newVisibilityState });\n      this._onTransitionComplete();\n    }, 200);\n  };\n\n  private _clearExistingAnimationTimer = (): void => {\n    if (this._animationCallback !== null) {\n      this._async.clearTimeout(this._animationCallback);\n    }\n  };\n\n  private _onPanelClick = (ev?: any): void => {\n    this.dismiss(ev);\n  };\n\n  private _onTransitionComplete = (): void => {\n    this._updateFooterPosition();\n\n    if (this.state.visibility === PanelVisibilityState.open && this.props.onOpened) {\n      this.props.onOpened();\n    }\n\n    if (this.state.visibility === PanelVisibilityState.closed && this.props.onDismissed) {\n      this.props.onDismissed();\n    }\n  };\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"script"}