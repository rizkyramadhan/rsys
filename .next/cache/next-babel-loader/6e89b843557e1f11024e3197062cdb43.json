{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar React = require(\"react\");\n\nvar Utilities_1 = require(\"../../../Utilities\");\n\nvar Styling_1 = require(\"../../../Styling\");\n\nvar index_1 = require(\"../PersonaPresence/index\");\n\nvar Icon_1 = require(\"../../../Icon\");\n\nvar Image_1 = require(\"../../../Image\");\n\nvar Persona_types_1 = require(\"../Persona.types\");\n\nvar PersonaInitialsColor_1 = require(\"../PersonaInitialsColor\");\n\nvar PersonaConsts_1 = require(\"../PersonaConsts\");\n\nvar getClassNames = Utilities_1.classNamesFunction();\n/**\n * PersonaCoin with no default styles.\n * [Use the `getStyles` API to add your own styles.](https://github.com/OfficeDev/office-ui-fabric-react/wiki/Styling)\n */\n\nvar PersonaCoinBase =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(PersonaCoinBase, _super);\n\n  function PersonaCoinBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._onRenderCoin = function (props) {\n      var _a = _this.props,\n          coinSize = _a.coinSize,\n          styles = _a.styles,\n          imageUrl = _a.imageUrl,\n          imageAlt = _a.imageAlt,\n          imageShouldFadeIn = _a.imageShouldFadeIn,\n          imageShouldStartVisible = _a.imageShouldStartVisible,\n          theme = _a.theme,\n          showUnknownPersonaCoin = _a.showUnknownPersonaCoin; // Render the Image component only if an image URL is provided\n\n      if (!imageUrl) {\n        return null;\n      }\n\n      var size = _this.props.size;\n      var classNames = getClassNames(styles, {\n        theme: theme,\n        size: size,\n        showUnknownPersonaCoin: showUnknownPersonaCoin\n      });\n      var dimension = coinSize || PersonaConsts_1.sizeToPixels[size];\n      return React.createElement(Image_1.Image, {\n        className: classNames.image,\n        imageFit: Image_1.ImageFit.cover,\n        src: imageUrl,\n        width: dimension,\n        height: dimension,\n        alt: imageAlt,\n        shouldFadeIn: imageShouldFadeIn,\n        shouldStartVisible: imageShouldStartVisible,\n        onLoadingStateChange: _this._onPhotoLoadingStateChange\n      });\n    };\n\n    _this._onRenderInitials = function (props) {\n      var imageInitials = props.imageInitials;\n      var allowPhoneInitials = props.allowPhoneInitials,\n          showUnknownPersonaCoin = props.showUnknownPersonaCoin;\n\n      if (showUnknownPersonaCoin) {\n        return React.createElement(Icon_1.Icon, {\n          iconName: \"Help\"\n        });\n      }\n\n      var isRTL = Utilities_1.getRTL();\n      imageInitials = imageInitials || Utilities_1.getInitials(_this._getText(), isRTL, allowPhoneInitials);\n      return imageInitials !== '' ? React.createElement(\"span\", null, imageInitials) : React.createElement(Icon_1.Icon, {\n        iconName: \"Contact\"\n      });\n    };\n\n    _this._onPhotoLoadingStateChange = function (loadState) {\n      _this.setState({\n        isImageLoaded: loadState === Image_1.ImageLoadState.loaded,\n        isImageError: loadState === Image_1.ImageLoadState.error\n      });\n\n      _this.props.onPhotoLoadingStateChange && _this.props.onPhotoLoadingStateChange(loadState);\n    };\n\n    _this._warnDeprecations({\n      primaryText: 'text'\n    });\n\n    _this.state = {\n      isImageLoaded: false,\n      isImageError: false\n    };\n    return _this;\n  } // tslint:disable-next-line function-name\n\n\n  PersonaCoinBase.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    if (nextProps.imageUrl !== this.props.imageUrl) {\n      this.setState({\n        isImageLoaded: false,\n        isImageError: false\n      });\n    }\n  };\n\n  PersonaCoinBase.prototype.render = function () {\n    var _a = this.props,\n        className = _a.className,\n        coinProps = _a.coinProps,\n        showUnknownPersonaCoin = _a.showUnknownPersonaCoin,\n        coinSize = _a.coinSize,\n        styles = _a.styles,\n        imageUrl = _a.imageUrl,\n        isOutOfOffice = _a.isOutOfOffice,\n        _b = _a.onRenderCoin,\n        onRenderCoin = _b === void 0 ? this._onRenderCoin : _b,\n        _c = _a.onRenderInitials,\n        onRenderInitials = _c === void 0 ? this._onRenderInitials : _c,\n        presence = _a.presence,\n        presenceTitle = _a.presenceTitle,\n        showInitialsUntilImageLoads = _a.showInitialsUntilImageLoads,\n        theme = _a.theme;\n    var size = this.props.size;\n    var divProps = Utilities_1.getNativeProps(this.props, Utilities_1.divProperties);\n    var divCoinProps = Utilities_1.getNativeProps(coinProps || {}, Utilities_1.divProperties);\n    var coinSizeStyle = coinSize ? {\n      width: coinSize,\n      height: coinSize\n    } : undefined;\n    var hideImage = showUnknownPersonaCoin;\n    var personaPresenceProps = {\n      coinSize: coinSize,\n      isOutOfOffice: isOutOfOffice,\n      presence: presence,\n      presenceTitle: presenceTitle,\n      size: size,\n      theme: theme\n    }; // Use getStyles from props, or fall back to getStyles from styles file.\n\n    var classNames = getClassNames(styles, {\n      theme: theme,\n      className: coinProps && coinProps.className ? coinProps.className : className,\n      size: size,\n      coinSize: coinSize,\n      showUnknownPersonaCoin: showUnknownPersonaCoin\n    });\n    var shouldRenderInitials = Boolean(!this.state.isImageLoaded && (showInitialsUntilImageLoads && imageUrl || !imageUrl || this.state.isImageError || hideImage));\n    return React.createElement(\"div\", tslib_1.__assign({}, divProps, {\n      className: classNames.coin\n    }), size !== Persona_types_1.PersonaSize.size8 && size !== Persona_types_1.PersonaSize.size10 && size !== Persona_types_1.PersonaSize.tiny ? React.createElement(\"div\", tslib_1.__assign({}, divCoinProps, {\n      className: classNames.imageArea,\n      style: coinSizeStyle\n    }), shouldRenderInitials && React.createElement(\"div\", {\n      className: Styling_1.mergeStyles(classNames.initials, !showUnknownPersonaCoin && {\n        backgroundColor: PersonaInitialsColor_1.getPersonaInitialsColor(this.props)\n      }),\n      style: coinSizeStyle,\n      \"aria-hidden\": \"true\"\n    }, onRenderInitials(this.props, this._onRenderInitials)), !hideImage && onRenderCoin(this.props, this._onRenderCoin), React.createElement(index_1.PersonaPresence, tslib_1.__assign({}, personaPresenceProps))) : // Otherwise, render just PersonaPresence.\n    this.props.presence ? React.createElement(index_1.PersonaPresence, tslib_1.__assign({}, personaPresenceProps)) : // Just render Contact Icon if there isn't a Presence prop.\n    React.createElement(Icon_1.Icon, {\n      iconName: \"Contact\",\n      className: classNames.size10WithoutPresenceIcon\n    }), this.props.children);\n  };\n  /**\n   * Deprecation helper for getting text.\n   */\n\n\n  PersonaCoinBase.prototype._getText = function () {\n    return this.props.text || this.props.primaryText || '';\n  };\n\n  PersonaCoinBase.defaultProps = {\n    size: Persona_types_1.PersonaSize.size48,\n    presence: Persona_types_1.PersonaPresence.none,\n    imageAlt: ''\n  };\n  return PersonaCoinBase;\n}(Utilities_1.BaseComponent);\n\nexports.PersonaCoinBase = PersonaCoinBase;","map":{"version":3,"sources":["components/Persona/PersonaCoin/PersonaCoin.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { BaseComponent, classNamesFunction, divProperties, getInitials, getNativeProps, getRTL } from '../../../Utilities';\nimport { mergeStyles } from '../../../Styling';\nimport { PersonaPresence } from '../PersonaPresence/index';\nimport { Icon } from '../../../Icon';\nimport { Image, ImageFit, ImageLoadState } from '../../../Image';\nimport {\n  IPersonaCoinProps,\n  IPersonaCoinStyleProps,\n  IPersonaCoinStyles,\n  IPersonaPresenceProps,\n  PersonaPresence as PersonaPresenceEnum,\n  PersonaSize\n} from '../Persona.types';\nimport { getPersonaInitialsColor } from '../PersonaInitialsColor';\nimport { sizeToPixels } from '../PersonaConsts';\n\nconst getClassNames = classNamesFunction<IPersonaCoinStyleProps, IPersonaCoinStyles>();\n\nexport interface IPersonaState {\n  isImageLoaded?: boolean;\n  isImageError?: boolean;\n}\n\n/**\n * PersonaCoin with no default styles.\n * [Use the `getStyles` API to add your own styles.](https://github.com/OfficeDev/office-ui-fabric-react/wiki/Styling)\n */\nexport class PersonaCoinBase extends BaseComponent<IPersonaCoinProps, IPersonaState> {\n  public static defaultProps: IPersonaCoinProps = {\n    size: PersonaSize.size48,\n    presence: PersonaPresenceEnum.none,\n    imageAlt: ''\n  };\n\n  constructor(props: IPersonaCoinProps) {\n    super(props);\n\n    this._warnDeprecations({ primaryText: 'text' });\n\n    this.state = {\n      isImageLoaded: false,\n      isImageError: false\n    };\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(nextProps: IPersonaCoinProps): void {\n    if (nextProps.imageUrl !== this.props.imageUrl) {\n      this.setState({\n        isImageLoaded: false,\n        isImageError: false\n      });\n    }\n  }\n\n  public render(): JSX.Element | null {\n    const {\n      className,\n      coinProps,\n      showUnknownPersonaCoin,\n      coinSize,\n      styles,\n      imageUrl,\n      isOutOfOffice,\n      onRenderCoin = this._onRenderCoin,\n      onRenderInitials = this._onRenderInitials,\n      presence,\n      presenceTitle,\n      showInitialsUntilImageLoads,\n      theme\n    } = this.props;\n\n    const size = this.props.size as PersonaSize;\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n    const divCoinProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(coinProps || {}, divProperties);\n    const coinSizeStyle = coinSize ? { width: coinSize, height: coinSize } : undefined;\n    const hideImage = showUnknownPersonaCoin;\n\n    const personaPresenceProps: IPersonaPresenceProps = {\n      coinSize,\n      isOutOfOffice,\n      presence,\n      presenceTitle,\n      size,\n      theme\n    };\n\n    // Use getStyles from props, or fall back to getStyles from styles file.\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className: coinProps && coinProps.className ? coinProps.className : className,\n      size,\n      coinSize,\n      showUnknownPersonaCoin\n    });\n\n    const shouldRenderInitials = Boolean(\n      !this.state.isImageLoaded && ((showInitialsUntilImageLoads && imageUrl) || !imageUrl || this.state.isImageError || hideImage)\n    );\n\n    return (\n      <div {...divProps} className={classNames.coin}>\n        {// Render PersonaCoin if size is not size8. size10 and tiny need to removed after a deprecation cleanup.\n        size !== PersonaSize.size8 && size !== PersonaSize.size10 && size !== PersonaSize.tiny ? (\n          <div {...divCoinProps} className={classNames.imageArea} style={coinSizeStyle}>\n            {shouldRenderInitials && (\n              <div\n                className={mergeStyles(\n                  classNames.initials,\n                  !showUnknownPersonaCoin && { backgroundColor: getPersonaInitialsColor(this.props) }\n                )}\n                style={coinSizeStyle}\n                aria-hidden=\"true\"\n              >\n                {onRenderInitials(this.props, this._onRenderInitials)}\n              </div>\n            )}\n            {!hideImage && onRenderCoin(this.props, this._onRenderCoin)}\n            <PersonaPresence {...personaPresenceProps} />\n          </div>\n        ) : // Otherwise, render just PersonaPresence.\n        this.props.presence ? (\n          <PersonaPresence {...personaPresenceProps} />\n        ) : (\n          // Just render Contact Icon if there isn't a Presence prop.\n          <Icon iconName=\"Contact\" className={classNames.size10WithoutPresenceIcon} />\n        )}\n        {this.props.children}\n      </div>\n    );\n  }\n\n  private _onRenderCoin = (props: IPersonaCoinProps): JSX.Element | null => {\n    const { coinSize, styles, imageUrl, imageAlt, imageShouldFadeIn, imageShouldStartVisible, theme, showUnknownPersonaCoin } = this.props;\n\n    // Render the Image component only if an image URL is provided\n    if (!imageUrl) {\n      return null;\n    }\n\n    const size = this.props.size as PersonaSize;\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      size,\n      showUnknownPersonaCoin\n    });\n\n    const dimension = coinSize || sizeToPixels[size];\n\n    return (\n      <Image\n        className={classNames.image}\n        imageFit={ImageFit.cover}\n        src={imageUrl}\n        width={dimension}\n        height={dimension}\n        alt={imageAlt}\n        shouldFadeIn={imageShouldFadeIn}\n        shouldStartVisible={imageShouldStartVisible}\n        onLoadingStateChange={this._onPhotoLoadingStateChange}\n      />\n    );\n  };\n\n  /**\n   * Deprecation helper for getting text.\n   */\n  private _getText(): string {\n    return this.props.text || this.props.primaryText || '';\n  }\n\n  private _onRenderInitials = (props: IPersonaCoinProps): JSX.Element => {\n    let { imageInitials } = props;\n    const { allowPhoneInitials, showUnknownPersonaCoin } = props;\n\n    if (showUnknownPersonaCoin) {\n      return <Icon iconName=\"Help\" />;\n    }\n\n    const isRTL = getRTL();\n\n    imageInitials = imageInitials || getInitials(this._getText(), isRTL, allowPhoneInitials);\n\n    return imageInitials !== '' ? <span>{imageInitials}</span> : <Icon iconName=\"Contact\" />;\n  };\n\n  private _onPhotoLoadingStateChange = (loadState: ImageLoadState) => {\n    this.setState({\n      isImageLoaded: loadState === ImageLoadState.loaded,\n      isImageError: loadState === ImageLoadState.error\n    });\n\n    this.props.onPhotoLoadingStateChange && this.props.onPhotoLoadingStateChange(loadState);\n  };\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"script"}