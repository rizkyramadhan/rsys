{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar React = require(\"react\");\n\nvar Utilities_1 = require(\"../../Utilities\");\n\nvar Fabric_styles_1 = require(\"./Fabric.styles\");\n\nvar getClassNames = Utilities_1.classNamesFunction();\n\nvar FabricBase =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(FabricBase, _super);\n\n  function FabricBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._rootElement = React.createRef();\n    _this._disposables = [];\n\n    _this._onMouseDown = function (ev) {\n      _this.setState({\n        isFocusVisible: false\n      });\n    };\n\n    _this._onKeyDown = function (ev) {\n      if (Utilities_1.isDirectionalKeyCode(ev.which)) {\n        _this.setState({\n          isFocusVisible: true\n        });\n      }\n    };\n\n    _this.state = {\n      isFocusVisible: false\n    };\n    return _this;\n  }\n\n  FabricBase.prototype.render = function () {\n    var className = this.props.className;\n    var classNames = getClassNames(Fabric_styles_1.getStyles, {\n      theme: this.props.theme,\n      className: className,\n      isFocusVisible: this.state.isFocusVisible\n    });\n    var divProps = Utilities_1.getNativeProps(this.props, Utilities_1.divProperties);\n    return React.createElement(\"div\", tslib_1.__assign({}, divProps, {\n      className: classNames.root,\n      ref: this._rootElement\n    }));\n  };\n\n  FabricBase.prototype.componentDidMount = function () {\n    var win = Utilities_1.getWindow(this._rootElement.current);\n\n    if (win) {\n      this._disposables.push(Utilities_1.on(win, 'mousedown', this._onMouseDown, true), Utilities_1.on(win, 'keydown', this._onKeyDown, true));\n    }\n  };\n\n  FabricBase.prototype.componentWillUnmount = function () {\n    this._disposables.forEach(function (dispose) {\n      return dispose();\n    });\n  };\n\n  return FabricBase;\n}(React.Component);\n\nexports.FabricBase = FabricBase;","map":{"version":3,"sources":["components/Fabric/Fabric.base.tsx"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,WAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,eAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AAGA,IAAM,aAAa,GAAG,WAAA,CAAA,kBAAA,EAAtB;;AAEA,IAAA,UAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAgC,EAAA,OAAA,CAAA,SAAA,CAAA,UAAA,EAAA,MAAA;;AAS9B,WAAA,UAAA,CAAY,KAAZ,EAA+B;AAA/B,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADd;;AAHQ,IAAA,KAAA,CAAA,YAAA,GAAe,KAAK,CAAC,SAAN,EAAf;AACA,IAAA,KAAA,CAAA,YAAA,GAA+B,EAA/B;;AAgCA,IAAA,KAAA,CAAA,YAAA,GAAe,UAAC,EAAD,EAAe;AACpC,MAAA,KAAI,CAAC,QAAL,CAAc;AAAE,QAAA,cAAc,EAAE;AAAlB,OAAd;AACD,KAFO;;AAIA,IAAA,KAAA,CAAA,UAAA,GAAa,UAAC,EAAD,EAAkB;AACrC,UAAI,WAAA,CAAA,oBAAA,CAAqB,EAAE,CAAC,KAAxB,CAAJ,EAAoC;AAClC,QAAA,KAAI,CAAC,QAAL,CAAc;AAAE,UAAA,cAAc,EAAE;AAAlB,SAAd;AACD;AACF,KAJO;;AAhCN,IAAA,KAAI,CAAC,KAAL,GAAa;AAAE,MAAA,cAAc,EAAE;AAAlB,KAAb;;AACD;;AAEM,EAAA,UAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AACU,QAAA,SAAA,GAAA,KAAA,KAAA,CAAA,SAAA;AAER,QAAM,UAAU,GAAG,aAAa,CAAC,eAAA,CAAA,SAAD,EAAY;AAC1C,MAAA,KAAK,EAAE,KAAK,KAAL,CAAW,KADwB;AAE1C,MAAA,SAAS,EAAA,SAFiC;AAG1C,MAAA,cAAc,EAAE,KAAK,KAAL,CAAW;AAHe,KAAZ,CAAhC;AAKA,QAAM,QAAQ,GAAG,WAAA,CAAA,cAAA,CAAqD,KAAK,KAA1D,EAAiE,WAAA,CAAA,aAAjE,CAAjB;AAEA,WAAO,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,OAAA,CAAA,QAAA,CAAA,EAAA,EAAS,QAAT,EAAiB;AAAE,MAAA,SAAS,EAAE,UAAU,CAAC,IAAxB;AAA8B,MAAA,GAAG,EAAE,KAAK;AAAxC,KAAjB,CAAA,CAAP;AACD,GAXM;;AAaA,EAAA,UAAA,CAAA,SAAA,CAAA,iBAAA,GAAP,YAAA;AACE,QAAM,GAAG,GAAG,WAAA,CAAA,SAAA,CAAU,KAAK,YAAL,CAAkB,OAA5B,CAAZ;;AAEA,QAAI,GAAJ,EAAS;AACP,WAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAA,CAAA,EAAA,CAAG,GAAH,EAAQ,WAAR,EAAqB,KAAK,YAA1B,EAAwC,IAAxC,CAAvB,EAAsE,WAAA,CAAA,EAAA,CAAG,GAAH,EAAQ,SAAR,EAAmB,KAAK,UAAxB,EAAoC,IAApC,CAAtE;AACD;AACF,GANM;;AAQA,EAAA,UAAA,CAAA,SAAA,CAAA,oBAAA,GAAP,YAAA;AACE,SAAK,YAAL,CAAkB,OAAlB,CAA0B,UAAC,OAAD,EAAoB;AAAK,aAAA,OAAA,EAAA;AAAS,KAA5D;AACD,GAFM;;AAaT,SAAA,UAAA;AAAC,CAhDD,CAAgC,KAAK,CAAC,SAAtC,CAAA;;AAAa,OAAA,CAAA,UAAA,GAAA,UAAA","sourcesContent":["import * as React from 'react';\nimport { getNativeProps, on, divProperties, classNamesFunction, getWindow, isDirectionalKeyCode } from '../../Utilities';\nimport { getStyles } from './Fabric.styles';\nimport { IFabricProps, IFabricStyleProps, IFabricStyles } from './Fabric.types';\n\nconst getClassNames = classNamesFunction<IFabricStyleProps, IFabricStyles>();\n\nexport class FabricBase extends React.Component<\n  IFabricProps,\n  {\n    isFocusVisible: boolean;\n  }\n> {\n  private _rootElement = React.createRef<HTMLDivElement>();\n  private _disposables: (() => void)[] = [];\n\n  constructor(props: IFabricProps) {\n    super(props);\n    this.state = { isFocusVisible: false };\n  }\n\n  public render() {\n    const { className } = this.props;\n\n    const classNames = getClassNames(getStyles, {\n      theme: this.props.theme!,\n      className,\n      isFocusVisible: this.state.isFocusVisible\n    });\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n\n    return <div {...divProps} className={classNames.root} ref={this._rootElement} />;\n  }\n\n  public componentDidMount(): void {\n    const win = getWindow(this._rootElement.current);\n\n    if (win) {\n      this._disposables.push(on(win, 'mousedown', this._onMouseDown, true), on(win, 'keydown', this._onKeyDown, true));\n    }\n  }\n\n  public componentWillUnmount(): void {\n    this._disposables.forEach((dispose: () => void) => dispose());\n  }\n\n  private _onMouseDown = (ev: MouseEvent): void => {\n    this.setState({ isFocusVisible: false });\n  };\n\n  private _onKeyDown = (ev: KeyboardEvent): void => {\n    if (isDirectionalKeyCode(ev.which)) {\n      this.setState({ isFocusVisible: true });\n    }\n  };\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"script"}